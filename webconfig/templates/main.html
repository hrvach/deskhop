{# templates/main.j2 #}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    {% include "style.css" %}
  </style>

  <title>LoopMotion.io Dashboard</title>
</head>

<body>

  <main class="wrapper">

    <section class="container">

      <div class="row" id="warning" style="display: none;">
        <blockquote>
          <h3> Oh, no! </h3>
          Unfortunately, your browser does not support WebHID or the Permissions Policy is blocking its usage. Please try Chromium <br />
          (or Chrome if you have to). Apologies for the inconvenience, hopefully a cross-browser solution happens soon.
        </blockquote>
      </div>

      <div class="row">
        <div class="column column-80" style="padding-top: 1%">
          <h3>
            loop<span style="color: #ff3030; font-weight: 400">motion</span
            >.io - <span class="colors">Dashboard</span>
          </h3>
        </div>
      </div>

      <div class="column" style="padding-right: 3em;">


      <div class="row">
        <div class="column column-20" style="margin-right: 2em; padding-top: 2em; background-color: #fa290421; border-radius: 10px;">
          <svg xmlns="http://www.w3.org/2000/svg" width="200" height="107" fill="none" xmlns:v="https://loopmotion.io">
            <g fill-rule="evenodd"><path d="M168.139 31.035c-8.969 9.3-80.156-1.83-105.799-.453-6.416.343-13.251.711-19.679 3.028-11.162 11.06-10.247 18.823-2.215 24.64 1.556.712-.626 10.965.952 11.588 9.426 1.087 23.994-.597 55.34 11.116 31.771 11.873 44.707 20.301 53.953 24.766 2.53-.125 5.045-.502 7.537-1.202a25.43 25.43 0 0 0 3.603-1.324l20.054-68.335s-4.887-1.195-13.747-3.824z" fill="url(#A)"/><path d="M77.475 47.397c11.483 1.204 13.475 1.874 20.706 3.607 6.367 1.526 12.877 3.464 19.15 5.267 4.547 1.309 18.29 5.315 19.056 7.118.341.813-2.243.077-3.3-.113-2.834-.512-5.636-1.177-8.441-1.825-9.554-2.208-18.98-4.638-28.656-6.33-.21-.037.43.008.644.012l.988.021c.825.017 4.478.417 3.066-1.056-1.307-1.366-14.341-4.935-18.579-5.847-1.468-.316-3.124-.76-4.635-.854z" fill="url(#B)"/><path d="M163.307 37.951c-2.617.51-5.107 1.262-7.782 1.509-12.304 1.135-24.587-.828-36.823-1.581-3.48-.214-7.114-.52-10.583-.034-.355.05-2.781.176-2.802.874-.027.907 1.223 1.587 1.88 1.942 2.119 1.142 4.518 1.904 6.812 2.588l28.862 8.214 15.303 4.334 5.122 1.432c.519.135 1.043.247 1.563.368.312.073.979.53.937.214-.095-.645-1.224-1.459-1.679-1.843-1.605-1.343-3.374-2.44-4.587-4.188-3.93-5.65 1.78-11.83 6.695-14.238" fill="url(#C)"/></g><path d="M185.715 63.535c-7.888-2.898-14.72-4.054-15.261-2.582s5.415 5.015 13.303 7.913 14.72 4.054 15.261 2.582-5.415-5.015-13.303-7.913z" fill="url(#D)"/><path d="M138.613 66.923c-12.075-3.69-22.466-4.709-23.209-2.276s8.443 7.395 20.518 11.085 22.466 4.708 23.209 2.276-8.443-7.395-20.518-11.085z" fill="url(#E)"/><g fill-rule="evenodd"><path d="M157.593 33.421c-11.346-3.088-45.263-6.96-68.021-8.116-7.561-.384-15.154-.41-22.754.068l-7.405.57c-1.132.108-1.059.081-2.129.215-.305.039-1.195.075-.905.138 3.631.788 7.982.204 11.742.13 4.704-.094 9.416.019 14.114.044 14.484.077 28.97 1.171 43.157 2.962 9.278 1.17 18.81 2.31 27.82 4.285a201.03 201.03 0 0 0 6.041 1.218c.214.04 1.775.445 1.881.359.248-.191.067-.893-3.541-1.874z" fill="url(#F)"/><path d="M134.558 85.426c-9.085-4.049-36.805-11.237-55.555-14.736-6.229-1.163-12.523-2-18.875-2.375-2.071-.123-4.131-.222-6.2-.27-.95-.022-.887-.039-1.788-.03-.257.003-.998-.059-.765.03 2.928 1.113 6.597 1.043 9.723 1.377 3.91.418 7.806 1.027 11.698 1.553 12.002 1.622 23.9 4.179 35.477 7.342 7.571 2.068 15.356 4.135 22.621 6.913 1.611.618 3.243 1.199 4.882 1.765.173.059 1.425.598 1.522.531.226-.148.149-.813-2.741-2.099z" fill="url(#G)"/><path d="M64.145 56.486c6.397 2.575 20.08 6.513 32.399 8.31 3.053.446 6.247.845 9.336.632.585-.04 2.658-.032 2.803-.975.184-1.184-1.469-2.082-2.297-2.536-2.534-1.39-5.408-2.112-8.139-2.99-10.424-3.348-21.337-5.2-32.055-7.313-1.94-.382-3.878-.779-5.837-1.066-.803-.118-1.805-.433-2.61-.144-1.529.55-1.19 3.03 6.4 6.083z" fill="url(#H)"/><path d="M157.613 104.124c-13.562-6.53-28.993-11.295-43.579-15.439-5.324-1.512-10.731-2.745-16.149-3.904-1.749-.374-3.5-.729-5.26-1.036l-1.282-.219c-.268-.045-1.039-.251-.805-.134 1.841.915 4.054 1.313 6.034 1.871l10.154 2.905c9.978 2.851 19.854 5.869 29.618 9.311l4.747 1.679 3.729 1.341c.995.34 1.976.721 2.959 1.086l2.332.868c2.448.931 4.809 2.039 7.26 2.948 1.546.573 1.529-.344.242-1.277z" fill="url(#I)"/><path d="M41.043 74.452c-.497-.305-.726-.807-1.173-.856s-.887.168-1.218.601l-5.281 6.889c-.43.561-1.034.75-1.595.495s-1.005-.909-1.169-1.741c-1.567-7.813-10.632-49.014-10.632-49.014s.071-2.006-.475-4.747c-.187-.918.001-1.899.48-2.524s1.163-.78 1.766-.406l32.603 20.282c.545.335.937 1.058 1.044 1.904s-.093 1.707-.524 2.268l-5.505 7.18c-.332.433-.526 1.042-.549 1.704s.141 1.308.444 1.807c1.961 3.229 20.541-.431 22.502 2.798.303.5-1.381 5.558-1.712 5.991-1.79 2.335-10.103 15.746-11.896 18.085-.328.428-.768.645-1.215.597s-.727-.479-1.176-.851c-3.257-2.726-10.422-7.855-14.717-10.459z" fill="url(#J)"/><path d="M50.706 62.414a2.06 2.06 0 0 0-1.517-.408 2.07 2.07 0 0 0-1.361.787l-5.281 6.888c-.43.561-1.12.862-1.823.793a2.05 2.05 0 0 1-1.643-1.123L20.078 31.332c-.354-.7-.825-6.394-.349-7.015.227-.296 1.318 4.044 1.905 3.603.654-.492 1.368-.897 1.772-.812 9.564 1.946 27.732 6.359 36.325 8.111.692.143 5.243-2.85 5.489-2.185s.398 6.557-.032 7.118l-5.505 7.18a2.06 2.06 0 0 0 .381 2.877l8.68 6.716c.432.331 2.963-2.694 3.035-2.155s.258 6.517-.073 6.95l-6.861 8.949a2.06 2.06 0 0 1-2.878.378l-11.26-8.633z" fill="#223743"/><path d="M50.398 56.802a2.06 2.06 0 0 0-1.517-.408 2.07 2.07 0 0 0-1.361.786l-5.281 6.889c-.43.561-1.12.862-1.823.792a2.05 2.05 0 0 1-1.643-1.123L19.77 25.721c-.354-.7-.273-1.542.207-2.168a2.06 2.06 0 0 1 2.04-.762l41.644 8.488a2.05 2.05 0 0 1 1.514 1.29 2.06 2.06 0 0 1-.295 1.971l-5.505 7.18a2.06 2.06 0 0 0 .381 2.877l11.26 8.633a2.06 2.06 0 0 1 .382 2.877l-6.861 8.949a2.06 2.06 0 0 1-2.878.378l-11.26-8.633z" fill="#ff7367" stroke="#000" stroke-width=".856" stroke-miterlimit="1.5" stroke-linejoin="round"/></g>
              <defs>
                  <linearGradient id="A" x1="136.151" y1="79.707" x2="-15.95" y2="18.147" href="#K"><stop stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#fff"/></linearGradient><linearGradient id="B" x1="96.038" y1="44.97" x2="97.099" y2="73.795" href="#K"><stop stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#ff3030"/></linearGradient><linearGradient id="C" x1="142.532" y1="35.47" x2="133.992" y2="98.398" href="#K"><stop stop-opacity="0"/><stop offset="1" stop-color="#f84f4f"/></linearGradient><linearGradient id="D" x1="177.955" y1="48.84" x2="185.539" y2="101.115" href="#K"><stop stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#ff4141"/></linearGradient><linearGradient id="E" x1="155.624" y1="77.488" x2="106.566" y2="60.876" href="#K"><stop stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#fe3b3b"/></linearGradient><linearGradient id="F" x1="104.196" y1="11.991" x2="108.314" y2="55.963" href="#K"><stop stop-opacity="0"/><stop offset="1" stop-color="#f24444"/></linearGradient><linearGradient id="G" x1="104.987" y1="61.681" x2="111.697" y2="134.518" href="#K"><stop stop-color="#fd3939" stop-opacity="0"/><stop offset="1"/></linearGradient><linearGradient id="H" x1="106.376" y1="63.731" x2="51.516" y2="47.564" href="#K"><stop stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#ff1f1f"/></linearGradient><linearGradient id="I" x1="93.202" y1="86.645" x2="164.088" y2="114.448" href="#K"><stop stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#ff0202"/></linearGradient><linearGradient id="J" x1="38.976" y1="78.443" x2="45.797" y2="22.046" href="#K"><stop stop-opacity="0"/><stop offset="1"/></linearGradient><linearGradient id="K" gradientUnits="userSpaceOnUse"/></defs>
          </svg>

            <div id="menu-buttons">
              <button data-handler="connectHandler" class="button button-clear button-shifted">Connect</button><br />
              <button data-handler="readHandler" class="button button-clear button-shifted online">Read</button><br />
              <button data-handler="saveHandler" class="button button-clear button-shifted online">Save</button><br />
              <button data-handler="rebootHandler" class="button button-clear button-shifted online">Exit</button><br />
              <hr />
              <button data-handler="blinkHandler" class="button button-clear button-shifted online">Blink</button><br />
              <button data-handler="blinkBothHandler" class="button button-clear button-shifted online">Blink both</button><br />
              <button data-handler="enterBootloaderHandler" class="button button-clear button-shifted online">Bootloader</button><br />
              <button data-handler="wipeConfigHandler" class="button button-clear button-shifted online">Wipe Config</button><br />
            </div>
        </div>

        <div class="column" style="padding-top: 2em;">
          <svg style="display:none" fill="none">
            <defs>
              <symbol id="monitor" viewBox="0 0 128 128">
            <path
              d="M111 18C114.3 18 117 20.7 117 24V90C117 93.3 114.3 96 111 96H18C14.7 96 12 93.3 12 90V24C12 20.7 14.7 18 18 18H111ZM111 14H18C12.5 14 8 18.5 8 24V90C8 95.5 12.5 100 18 100H111C116.5 100 121 95.5 121 90V24C121 18.5 116.5 14 111 14Z"
              fill="#253239"
            />
            <path
              d="M65 91C66.6569 91 68 89.6569 68 88C68 86.3431 66.6569 85 65 85C63.3431 85 62 86.3431 62 88C62 89.6569 63.3431 91 65 91Z"
              fill="#FF3030"
            />
            <path
              d="M83.5 113H67V104.5C67 103.4 66.1 102.5 65 102.5C63.9 102.5 63 103.4 63 104.5V113H46.5C45.4 113 44.5 113.9 44.5 115C44.5 116.1 45.4 117 46.5 117H83.5C84.6 117 85.5 116.1 85.5 115C85.5 113.9 84.6 113 83.5 113Z"
              fill="#FF3030"
            />
            <path
              d="M108 27V78H21V27H108ZM110 25H19V80H110V25Z"
              fill="#3B97D3"
            />
          </symbol>
        </defs>
          </svg>

          <svg class="center">
            <use href="#monitor" />
          </svg>


            <h3 class="center">Left Side</h3>

            {% for item in screen_A %}
              {% include "form.html" with context %}
            {% endfor %}

        </div>
        
        <div class="column" style="padding-top: 2em;">
          <svg class="center">
          <use href="#monitor" />
          </svg>

            <h3 class="center">Right Side</h3>

            {% for item in screen_B %}
              {% include "form.html" with context %}
            {% endfor %}

        </div>

      </div>

      <div class="row">
        <div class="column column-20" style="margin-right: 2em; margin-top: 4%;">
        </div>
        <!-- <div class="column" style="background-color: #d7e5f0;"> -->
        
        <div class="break"></div>
        <div class="column">
          <h4>Mouse & Keyboard Configuration</h4>

            {% for item in config %}
              {% include "form.html" with context %}
            {% endfor %}

          
        </div>

        <div class="column">
          <h4>Firmware Information</h4>

          {% for item in status %}
            {% include "form.html" with context %}
          {% endfor %}

        </div>
        
      </div>
      <div class="row">
        <div class="column column-20" style="margin-right: 2em;">
        </div>
        <div class="column" style="margin-top: 2em;">
          <input type="submit" value="Save" id="submitButton">
        </div>
      </div>

      </div>
    </div>
    </section>
  </main>

  <script>
  {% include "script.js" %}
  </script>
</body>

</html>
